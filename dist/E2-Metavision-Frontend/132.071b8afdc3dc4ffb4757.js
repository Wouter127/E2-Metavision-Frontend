"use strict";(self.webpackChunke2_metavision_frontend=self.webpackChunke2_metavision_frontend||[]).push([[132],{3132:(lt,x,g)=>{g.r(x),g.d(x,{AdminModule:()=>at});var c=g(8583),a=g(665),h=g(6017),v=g(8270),C=g(7461),m=g(4571),l=g(5319),e=g(3018),f=g(8442),_=g(5327);function M(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Email is veplicht. "),e.qZA())}function U(i,r){if(1&i&&(e.TgZ(0,"div",19),e.YNc(1,M,2,0,"span",20),e.qZA()),2&i){e.oxw();const t=e.MAs(17);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function O(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"div",4),e.TgZ(3,"div",5),e.TgZ(4,"h3",6),e._uU(5),e.qZA(),e.TgZ(6,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeModal()}),e.TgZ(7,"span",8),e._uU(8," \xd7 "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",9),e.TgZ(10,"form",10,11),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmit()}),e.TgZ(12,"div",12),e.TgZ(13,"div"),e.TgZ(14,"label",13),e._uU(15,"Email"),e.qZA(),e.TgZ(16,"input",14,15),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().email=o}),e.qZA(),e.YNc(18,U,2,1,"div",16),e.qZA(),e.qZA(),e.TgZ(19,"div",17),e.TgZ(20,"button",18),e._uU(21," Toevoegen "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(11),n=e.MAs(17),o=e.oxw();e.xp6(5),e.hij(" ",o.title," "),e.xp6(11),e.Q6J("ngModel",o.email),e.xp6(2),e.Q6J("ngIf",n.invalid&&(n.dirty||n.touched)),e.xp6(2),e.Q6J("disabled",!t.form.valid)}}function N(i,r){1&i&&e._UZ(0,"div",21)}let w=(()=>{class i{constructor(t,n){this.adminGebruikerService=t,this.toast=n,this.output=new e.vpe,this.showModal=!1,this.email="",this.postGebruikerOrganisatieBeheerder$=new l.w,this.toast.defaultConfig=Object.assign(Object.assign({},this.toast.defaultConfig),{reverseOrder:!0})}ngOnInit(){}openModal(){this.showModal=!0}closeModal(){this.showModal=!1}onSubmit(){this.postGebruikerOrganisatieBeheerder$=this.adminGebruikerService.postGebruikerOrganisatieBeheerder(this.email).pipe(this.toast.observe({loading:{content:"Toevoegen...",position:"bottom-right"},success:{content:"Gebruiker toegevoegd!",position:"bottom-right",dismissible:!0},error:{content:t=>{let n="<ul>";n+="<li><b>Er ging iets mis!</b></li>";for(let o in t.error.errors)n+=`<li>${t.error.errors[o]}</li>`;return n+="</ul>",n},position:"bottom-right",dismissible:!0,duration:5e3}})).subscribe(t=>{this.email="",this.closeModal(),this.output.next()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.R),e.Y36(_.jE))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-gebruikers-form-organisatiebeheerder"]],inputs:{title:"title"},outputs:{output:"output"},decls:2,vars:2,consts:[["class","overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex mx-4",4,"ngIf"],["class","opacity-25 fixed inset-0 z-40 bg-black",4,"ngIf"],[1,"overflow-x-hidden","overflow-y-auto","fixed","inset-0","z-50","outline-none","focus:outline-none","justify-center","items-center","flex","mx-4"],[1,"relative","my-6","mx-auto","max-w-6xl","w-11/12","sm:w-9/12","md:w-7/12","lg:w-5/12"],[1,"border-0","rounded-lg","shadow-lg","relative","flex","flex-col","w-full","bg-white","outline-none","focus:outline-none"],[1,"flex","items-start","justify-between","p-5","border-b","border-solid","border-blueGray-200","rounded-t"],[1,"text-3xl","font-semibold"],[1,"p-1","ml-auto","bg-transparent","border-0","text-black","opacity-50","float-right","text-3xl","leading-none","font-semibold","outline-none","focus:outline-none",3,"click"],[1,"bg-transparent","text-black","opacity-50","h-6","w-6","text-2xl","block","outline-none","focus:outline-none"],[1,"relative","p-6","flex-auto"],[3,"ngSubmit"],["organisatieBeheerderUitnodigenForm","ngForm"],[1,"bg-white"],["for","email",1,"block","font-medium","text-gray-700"],["type","email","name","email","id","email","required","",1,"mt-1","p-2","focus:ring-indigo-500","border","focus:border-indigo-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","rounded-md",3,"ngModel","ngModelChange"],["emailInput","ngModel"],["class","text-xs text-red-500 font-medium",4,"ngIf"],[1,"px-4","py-3","text-center","sm:px-6"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","font-medium","rounded-md","text-white","bg-wbRed-500","hover:bg-wbRed-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-wbRed-500","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],[1,"text-xs","text-red-500","font-medium"],[4,"ngIf"],[1,"opacity-25","fixed","inset-0","z-40","bg-black"]],template:function(t,n){1&t&&(e.YNc(0,O,22,4,"div",0),e.YNc(1,N,1,0,"div",1)),2&t&&(e.Q6J("ngIf",n.showModal),e.xp6(1),e.Q6J("ngIf",n.showModal))},directives:[c.O5,a._Y,a.JL,a.F,a.Fj,a.Q7,a.JJ,a.On],styles:[""]}),i})();var b=g(218);function J(i,r){1&i&&(e.TgZ(0,"form",12),e.TgZ(1,"div",13),e.TgZ(2,"div",14),e.TgZ(3,"div",15),e.TgZ(4,"label",16),e._uU(5,"Email"),e.qZA(),e._UZ(6,"div",17),e.qZA(),e.TgZ(7,"div",18),e.TgZ(8,"label",16),e._uU(9,"Voornaam"),e.qZA(),e._UZ(10,"div",19),e.qZA(),e.TgZ(11,"div",18),e.TgZ(12,"label",16),e._uU(13,"Achternaam"),e.qZA(),e._UZ(14,"div",19),e.qZA(),e.TgZ(15,"div",18),e.TgZ(16,"label",16),e._uU(17,"GSM nummer"),e.qZA(),e._UZ(18,"div",19),e.qZA(),e.TgZ(19,"div",18),e.TgZ(20,"label",16),e._uU(21,"Organisatie"),e.qZA(),e._UZ(22,"div",19),e.qZA(),e.TgZ(23,"div",18),e.TgZ(24,"label",16),e._uU(25,"Organisatie beheerder"),e.qZA(),e._UZ(26,"div",20),e.qZA(),e.TgZ(27,"div",18),e.TgZ(28,"label",16),e._uU(29,"Admin"),e.qZA(),e._UZ(30,"div",20),e.qZA(),e.qZA(),e.TgZ(31,"div",21),e._UZ(32,"div",22),e.qZA(),e.qZA(),e.qZA())}function W(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Voornaam is veplicht. "),e.qZA())}function F(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Voornaam moet minstens 2 karakters bevatten. "),e.qZA())}function G(i,r){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,W,2,0,"span",46),e.YNc(2,F,2,0,"span",46),e.qZA()),2&i){e.oxw();const t=e.MAs(13);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function I(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Achternaam is veplicht. "),e.qZA())}function j(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Achternaam moet minstens 2 karakters bevatten. "),e.qZA())}function Q(i,r){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,I,2,0,"span",46),e.YNc(2,j,2,0,"span",46),e.qZA()),2&i){e.oxw();const t=e.MAs(19);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function Y(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," GSM nummer moet 10 karakters bevatten. "),e.qZA())}function L(i,r){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Y,2,0,"span",46),e.qZA()),2&i){e.oxw();const t=e.MAs(25);e.xp6(1),e.Q6J("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function $(i,r){if(1&i&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.naam)}}function D(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"form",23,24),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw(2).onSubmit()}),e.TgZ(2,"div",13),e.TgZ(3,"div",14),e.TgZ(4,"div",15),e.TgZ(5,"label",16),e._uU(6,"Email"),e.qZA(),e.TgZ(7,"p",25),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"div",18),e.TgZ(10,"label",26),e._uU(11,"Voornaam"),e.qZA(),e.TgZ(12,"input",27,28),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw(2).gebruiker.voornaam=o}),e.qZA(),e.YNc(14,G,3,2,"div",29),e.qZA(),e.TgZ(15,"div",18),e.TgZ(16,"label",30),e._uU(17,"Achternaam"),e.qZA(),e.TgZ(18,"input",31,32),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw(2).gebruiker.achternaam=o}),e.qZA(),e.YNc(20,Q,3,2,"div",29),e.qZA(),e.TgZ(21,"div",18),e.TgZ(22,"label",33),e._uU(23,"GSM nummer"),e.qZA(),e.TgZ(24,"input",34,35),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw(2).gebruiker.gsm=o}),e.qZA(),e.YNc(26,L,2,1,"div",29),e.qZA(),e.TgZ(27,"div",18),e.TgZ(28,"label",36),e._uU(29,"Organisatie"),e.qZA(),e.TgZ(30,"select",37),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw(2).gebruiker.organisatieId=o}),e.YNc(31,$,2,2,"option",38),e.qZA(),e.qZA(),e.TgZ(32,"div",18),e.TgZ(33,"label",39),e._uU(34,"Organisatie beheerder"),e.qZA(),e.TgZ(35,"input",40),e.NdJ("change",function(){e.CHM(t);const o=e.oxw(2);return o.gebruiker.isOrganisatieBeheerder=o.gebruiker.isOrganisatieBeheerder?0:1}),e.qZA(),e.qZA(),e.TgZ(36,"div",18),e.TgZ(37,"label",41),e._uU(38,"Admin"),e.qZA(),e.TgZ(39,"input",42),e.NdJ("change",function(){e.CHM(t);const o=e.oxw(2);return o.gebruiker.isAdmin=o.gebruiker.isAdmin?0:1}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",43),e.TgZ(41,"button",44),e._uU(42," Opslaan "),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(1),n=e.MAs(13),o=e.MAs(19),s=e.MAs(25),d=e.oxw(2);e.xp6(8),e.Oqu(d.gebruiker.email),e.xp6(4),e.Q6J("ngModel",d.gebruiker.voornaam),e.xp6(2),e.Q6J("ngIf",n.invalid&&(n.dirty||n.touched)),e.xp6(4),e.Q6J("ngModel",d.gebruiker.achternaam),e.xp6(2),e.Q6J("ngIf",o.invalid&&(o.dirty||o.touched)),e.xp6(4),e.Q6J("ngModel",d.gebruiker.gsm),e.xp6(2),e.Q6J("ngIf",s.invalid&&(s.dirty||s.touched)),e.xp6(4),e.Q6J("ngModel",d.gebruiker.organisatieId),e.xp6(1),e.Q6J("ngForOf",d.organisaties),e.xp6(4),e.Q6J("checked",d.gebruiker.isOrganisatieBeheerder),e.xp6(4),e.Q6J("checked",d.gebruiker.isAdmin),e.xp6(2),e.Q6J("disabled",!t.form.valid)}}function S(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"div",4),e.TgZ(3,"div",5),e.TgZ(4,"h3",6),e._uU(5),e.qZA(),e.TgZ(6,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeModal()}),e.TgZ(7,"span",8),e._uU(8," \xd7 "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",9),e.YNc(10,J,33,0,"form",10),e.YNc(11,D,43,12,"form",11),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(5),e.hij(" ",t.title," "),e.xp6(5),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading)}}function E(i,r){1&i&&e._UZ(0,"div",48)}let T=(()=>{class i{constructor(t,n,o){this.adminGebruikerService=t,this.adminOrganisatieService=n,this.toast=o,this.output=new e.vpe,this.gebruiker={id:0,organisatieId:0,voornaam:"",achternaam:"",email:"",gsm:"",krijgtMelding:0,password:"",isOrganisatieBeheerder:0,isAdmin:0,vervolledig_token:""},this.gebruiker$=new l.w,this.organisaties=[],this.organisaties$=new l.w,this.loading=!0,this.showModal=!1,this.putGebruiker$=new l.w,this.toast.defaultConfig=Object.assign(Object.assign({},this.toast.defaultConfig),{reverseOrder:!0})}ngOnInit(){this.organisaties$=this.adminOrganisatieService.getOrganisaties().subscribe(t=>{this.organisaties=t},t=>{this.toast.error("Er ging iets mis.  De lijst van organisaties kan niet worden opgehaald.",{position:"bottom-right",dismissible:!0,autoClose:!1})})}ngOnDestroy(){this.putGebruiker$.unsubscribe()}openModal(t){this.loading=!0,this.gebruiker$=this.adminGebruikerService.getGebruikerById(t).subscribe(n=>{this.gebruiker=n,this.loading=!1},n=>{this.toast.error("Er ging iets mis.  De gebruiker kan niet worden opgehaald.",{position:"bottom-right",dismissible:!0,autoClose:!1})}),this.showModal=!0}closeModal(){this.showModal=!1}onChange(){console.log(this.gebruiker.isAdmin)}onSubmit(){this.putGebruiker$=this.adminGebruikerService.putGebruiker(this.gebruiker.id,this.gebruiker).pipe(this.toast.observe({loading:{content:"Aanpassen...",position:"bottom-right"},success:{content:"Gebruiker aangepast!",position:"bottom-right",dismissible:!0},error:{content:t=>{let n="<ul>";n+="<li><b>Er ging iets mis!</b></li>";for(let o in t.error.errors)n+=`<li>${t.error.errors[o]}</li>`;return n+="</ul>",n},position:"bottom-right",dismissible:!0,duration:5e3}})).subscribe(t=>{this.showModal=!1,this.output.next()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.R),e.Y36(b.n),e.Y36(_.jE))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-gebruikers-form"]],inputs:{title:"title"},outputs:{output:"output"},decls:2,vars:2,consts:[["class","overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex mx-4",4,"ngIf"],["class","opacity-25 fixed inset-0 z-40 bg-black",4,"ngIf"],[1,"overflow-x-hidden","overflow-y-auto","fixed","inset-0","z-50","outline-none","focus:outline-none","justify-center","items-center","flex","mx-4"],[1,"relative","w-auto","my-6","mx-auto","max-w-6xl","w-11/12","sm:w-10/12"],[1,"border-0","rounded-lg","shadow-lg","relative","flex","flex-col","w-full","bg-white","outline-none","focus:outline-none"],[1,"flex","items-start","justify-between","p-5","border-b","border-solid","border-blueGray-200","rounded-t"],[1,"text-3xl","font-semibold"],[1,"p-1","ml-auto","bg-transparent","border-0","text-black","opacity-50","float-right","text-3xl","leading-none","font-semibold","outline-none","focus:outline-none",3,"click"],[1,"bg-transparent","text-black","opacity-50","h-6","w-6","text-2xl","block","outline-none","focus:outline-none"],[1,"relative","p-6","flex-auto"],["action","#",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],["action","#"],[1,"bg-white"],[1,"grid","grid-cols-6","gap-6"],[1,"col-span-6"],[1,"block","font-medium","text-gray-700"],[1,"w-8/12","sm:w-4/12","bg-gray-300","h-4","rounded-full","animate-pulse"],[1,"col-span-6","sm:col-span-3"],[1,"w-12/12","mt-1","bg-gray-300","h-8","rounded-md","animate-pulse"],[1,"w-4","mt-1","bg-gray-300","h-4","rounded-md","animate-pulse"],[1,"px-4","py-3"],[1,"w-32","mx-auto","mt-1","bg-gray-300","h-10","rounded-md","animate-pulse"],[3,"ngSubmit"],["gebruikerForm","ngForm"],[1,"text-gray-500"],["for","voornaam",1,"block","font-medium","text-gray-700"],["type","text","name","voornaam","id","voornaam","required","","minlength","2",1,"mt-1","p-2","focus:ring-indigo-500","border","focus:border-indigo-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","rounded-md","invalid:border-red-500","invalid:ring-red-500",3,"ngModel","ngModelChange"],["voornaam","ngModel"],["class","text-xs text-red-500 font-medium",4,"ngIf"],["for","achternaam",1,"block","font-medium","text-gray-700"],["type","text","name","achternaam","id","achternaam","required","","minlength","2",1,"mt-1","p-2","block","w-full","shadow-sm","sm:text-sm","rounded-md","border","border-gray-300","focus:border-indigo-500","focus:ring-indigo-500","invalid:border-red-500","invalid:ring-red-500",3,"ngModel","ngModelChange"],["achternaam","ngModel"],["for","gsm",1,"block","font-medium","text-gray-700"],["type","text","name","gsm","id","gsm","minlength","10","maxlength","10",1,"mt-1","p-2","block","w-full","shadow-sm","sm:text-sm","rounded-md","border","border-gray-300","focus:border-indigo-500","focus:ring-indigo-500","invalid:border-red-500","invalid:ring-red-500",3,"ngModel","ngModelChange"],["gsm","ngModel"],["for","country",1,"block","font-medium","text-gray-700"],["id","country","name","organisatieId",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","isOrganisatieBeheerder",1,"block","font-medium","text-gray-700"],["type","checkbox","role","switch","id","isOrganisatieBeheerder",1,"ml-1","text-indigo-500",3,"checked","change"],["for","admin",1,"block","font-medium","text-gray-700"],["type","checkbox","role","switch","id","admin",1,"ml-1","text-indigo-500",3,"checked","change"],[1,"px-4","py-3","text-center","sm:px-6"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],[1,"text-xs","text-red-500","font-medium"],[4,"ngIf"],[3,"value"],[1,"opacity-25","fixed","inset-0","z-40","bg-black"]],template:function(t,n){1&t&&(e.YNc(0,S,12,3,"div",0),e.YNc(1,E,1,0,"div",1)),2&t&&(e.Q6J("ngIf",n.showModal),e.xp6(1),e.Q6J("ngIf",n.showModal))},directives:[c.O5,a._Y,a.JL,a.F,a.Fj,a.Q7,a.wO,a.JJ,a.On,a.nD,a.EJ,c.sg,a.YN,a.Kr],styles:[""]}),i})();var A=g(2721);function z(i,r){1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td",15),e._UZ(2,"div",16),e._UZ(3,"div",17),e.qZA(),e.TgZ(4,"td",15),e._UZ(5,"div",16),e._UZ(6,"div",16),e._UZ(7,"div",18),e._UZ(8,"div",19),e.qZA(),e.TgZ(9,"td",15),e.TgZ(10,"div",20),e._UZ(11,"div",21),e._UZ(12,"div",22),e.qZA(),e.qZA(),e.TgZ(13,"td",15),e.TgZ(14,"div",23),e._UZ(15,"div",24),e._UZ(16,"div",19),e.qZA(),e.qZA(),e.qZA())}const H=function(){return[1,2,3]};function R(i,r){1&i&&(e.TgZ(0,"tbody"),e.YNc(1,z,17,0,"tr",14),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,H)))}function B(i,r){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.voornaam+" "+t.achternaam)}}function P(i,r){1&i&&(e.TgZ(0,"span",37),e._uU(1," Nog niet vervolledigd door gebruiker "),e.qZA())}function V(i,r){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(null==t.organisatie?null:t.organisatie.naam)}}function X(i,r){1&i&&e._UZ(0,"span")}function K(i,r){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,V,2,1,"span",28),e.YNc(2,X,1,0,"ng-template",null,38,e.W1O),e.qZA()),2&i){const t=e.MAs(3),n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==n.organisatie?null:n.organisatie.naam)("ngIfElse",t)}}function ee(i,r){1&i&&(e.TgZ(0,"span",37),e._uU(1," Nog niet vervolledigd door gebruiker "),e.qZA())}function te(i,r){1&i&&(e.TgZ(0,"span",39),e._uU(1," Organisatie beheerder "),e.qZA())}function ie(i,r){1&i&&(e.TgZ(0,"span",40),e._uU(1," Admin "),e.qZA())}function ne(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",26),e.TgZ(2,"div",27),e.YNc(3,B,2,1,"span",28),e.YNc(4,P,2,0,"ng-template",null,29,e.W1O),e.qZA(),e.TgZ(6,"div",30),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"td",26),e.TgZ(9,"div",31),e.YNc(10,K,4,2,"div",28),e.YNc(11,ee,2,0,"ng-template",null,29,e.W1O),e.qZA(),e.TgZ(13,"div",30),e._uU(14),e.qZA(),e.TgZ(15,"div",30),e._uU(16),e.qZA(),e.TgZ(17,"div",30),e._uU(18),e.qZA(),e.qZA(),e.TgZ(19,"td",26),e.YNc(20,te,2,0,"span",32),e.YNc(21,ie,2,0,"span",33),e.qZA(),e.TgZ(22,"td",34),e.TgZ(23,"div",23),e.TgZ(24,"a",35),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).wijzigGebruiker(s.id)}),e._uU(25,"Wijzig"),e.qZA(),e.TgZ(26,"a",36),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).verwijderGebruiker(s.id)}),e._uU(27,"Verwijder"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit,n=e.MAs(5);let o,s;e.xp6(3),e.Q6J("ngIf",!t.vervolledig_token)("ngIfElse",n),e.xp6(4),e.hij(" ",t.email," "),e.xp6(3),e.Q6J("ngIf",!t.vervolledig_token)("ngIfElse",n),e.xp6(4),e.hij(" ",t.organisatie?(null!==(o=t.organisatie.huisnummer)&&void 0!==o?o:"")+" "+(null!==(o=t.organisatie.straat)&&void 0!==o?o:""):""," "),e.xp6(2),e.hij(" ",t.organisatie?(null!==(s=t.organisatie.postcode)&&void 0!==s?s:"")+" "+(null!==(s=t.organisatie.stad)&&void 0!==s?s:""):""," "),e.xp6(2),e.hij(" ",t.organisatie?t.organisatie.land:""," "),e.xp6(2),e.Q6J("ngIf",t.isOrganisatieBeheerder),e.xp6(1),e.Q6J("ngIf",t.isAdmin)}}function oe(i,r){if(1&i&&(e.TgZ(0,"tbody",25),e.YNc(1,ne,28,10,"tr",14),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.gebruikers)}}let re=(()=>{class i{constructor(t,n,o){this.adminGebruikerService=t,this.toast=n,this.dialog=o,this.loading=!0,this.gebruikers=[],this.gebruikers$=new l.w,this.gebruiker$=new l.w,this.toast.defaultConfig=Object.assign(Object.assign({},this.toast.defaultConfig),{reverseOrder:!0})}ngOnInit(){this.getGebruikers()}ngOnDestroy(){this.gebruikers$.unsubscribe(),this.gebruiker$.unsubscribe()}toevoegenGebruiker(){this.gebruikersFormOrganisatiebeheerderComponent.openModal(),this.gebruikersFormOrganisatiebeheerderComponent.output.subscribe(()=>{this.getGebruikers()})}wijzigGebruiker(t){this.gebruikersFormComponent.openModal(t),this.gebruikersFormComponent.output.subscribe(()=>{this.getGebruikers()})}verwijderGebruiker(t){this.dialog.confirm({title:"Gebruiker verwijderen?",body:"Deze actie kan niet ongedaan gemaakt worden."}).afterClosed$.subscribe(n=>{n&&this.adminGebruikerService.deleteGebruiker(t).pipe(this.toast.observe({loading:{content:"Verwijderen...",position:"bottom-right"},success:{content:"Gebruiker verwijderd!",position:"bottom-right",dismissible:!0},error:{content:"Er ging iets mis.",position:"bottom-right",dismissible:!0}})).subscribe(o=>{this.getGebruikers()})})}getGebruikers(){this.gebruikers$=this.adminGebruikerService.getGebruikers().subscribe(t=>{this.gebruikers=t,this.loading=!1},t=>{this.toast.error("Er ging iets mis.  De gebruiker kan niet worden opgehaald.",{position:"bottom-right",dismissible:!0,autoClose:!1})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.R),e.Y36(_.jE),e.Y36(A.xA))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-gebruikers-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(w,7),e.Gf(T,7)),2&t){let o;e.iGM(o=e.CRH())&&(n.gebruikersFormOrganisatiebeheerderComponent=o.first),e.iGM(o=e.CRH())&&(n.gebruikersFormComponent=o.first)}},decls:22,vars:2,consts:[["title","Wijzig gebruiker"],["title","Organisatie beheerder uitnodigen"],[1,"flex","row","justify-end","container","mx-auto","w-full","px-8","pt-2"],[1,"p-2","px-5","bg-transparent","border-2","border-wbRed-500","text-wbRed-500","text-md","font-bold","rounded-lg","transition-colors","duration-700","transform","hover:bg-wbRed-500","hover:text-white","mb-2",3,"click"],[1,"flex","flex-col","container","mx-auto","w-full","px-8"],[1,"-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"py-2","align-middle","inline-block","min-w-full","sm:px-6","lg:px-8"],[1,"shadow","overflow-hidden","border-b","border-gray-200","sm:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-center","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[4,"ngIf"],["class","bg-white divide-y divide-gray-200",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"px-6","py-4"],[1,"w-6/12","bg-gray-300","h-4","rounded-full","animate-pulse","mb-1"],[1,"w-10/12","bg-gray-300","h-4","rounded-full","animate-pulse"],[1,"w-5/12","bg-gray-300","h-4","rounded-full","animate-pulse","mb-1"],[1,"w-4/12","bg-gray-300","h-4","rounded-full","animate-pulse"],[1,"flex","row"],[1,"w-4/12","bg-gray-300","h-4","rounded-full","animate-pulse","mr-1"],[1,"w-8/12","bg-gray-300","h-4","rounded-full","animate-pulse"],[1,"flex","justify-around"],[1,"w-3/12","bg-gray-300","h-4","rounded-full","animate-pulse","mr-1"],[1,"bg-white","divide-y","divide-gray-200"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","font-medium","text-gray-900"],[4,"ngIf","ngIfElse"],["showNietVervolledigd",""],[1,"text-sm","text-gray-500"],[1,"text-sm","text-gray-900"],["class","px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",4,"ngIf"],["class","px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900","cursor-pointer","mr-1","sm:mr-0",3,"click"],[1,"text-indigo-600","hover:text-indigo-900","cursor-pointer","ml-1","sm:ml-0",3,"click"],[1,"inline-flex","font-semibold","rounded-full","bg-orange-100","text-orange-800"],["geenOrganisatie",""],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full","bg-green-100","text-green-800"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full","bg-red-100","text-red-800"]],template:function(t,n){1&t&&(e._UZ(0,"app-gebruikers-form",0),e._UZ(1,"app-gebruikers-form-organisatiebeheerder",1),e.TgZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return n.toevoegenGebruiker()}),e._uU(4," Organisatie beheerder uitnodigen "),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"table",8),e.TgZ(10,"thead",9),e.TgZ(11,"tr"),e.TgZ(12,"th",10),e._uU(13," Naam "),e.qZA(),e.TgZ(14,"th",10),e._uU(15," Organisatie "),e.qZA(),e.TgZ(16,"th",10),e._uU(17," Rol "),e.qZA(),e.TgZ(18,"th",11),e._uU(19," Acties "),e.qZA(),e.qZA(),e.qZA(),e.YNc(20,R,2,2,"tbody",12),e.YNc(21,oe,2,1,"tbody",13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(20),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},directives:[T,w,c.O5,c.sg],styles:[""]}),i})();var p=g(8011);function se(i,r){1&i&&(e.TgZ(0,"form",12),e.TgZ(1,"div",13),e.TgZ(2,"div",14),e.TgZ(3,"div",15),e.TgZ(4,"label",16),e._uU(5,"Naam"),e.qZA(),e._UZ(6,"div",17),e.qZA(),e.TgZ(7,"div",15),e.TgZ(8,"label",16),e._uU(9,"GSM nummer"),e.qZA(),e._UZ(10,"div",17),e.qZA(),e.TgZ(11,"div",15),e.TgZ(12,"label",16),e._uU(13,"Publiek zichtbaar"),e.qZA(),e._UZ(14,"div",18),e.qZA(),e.TgZ(15,"div",15),e.TgZ(16,"label",16),e._uU(17,"Organisatie"),e.qZA(),e._UZ(18,"div",17),e.qZA(),e.qZA(),e.TgZ(19,"div",19),e._UZ(20,"div",20),e.qZA(),e.qZA(),e.qZA())}function ae(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Naam is veplicht. "),e.qZA())}function de(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Naam moet minstens 2 karakters bevatten. "),e.qZA())}function ge(i,r){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,ae,2,0,"span",39),e.YNc(2,de,2,0,"span",39),e.qZA()),2&i){e.oxw();const t=e.MAs(8);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function le(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," GSM nummer is veplicht. "),e.qZA())}function ce(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," GSM nummer moet 10 karakters bevatten. "),e.qZA())}function ue(i,r){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,le,2,0,"span",39),e.YNc(2,ce,2,0,"span",39),e.qZA()),2&i){e.oxw();const t=e.MAs(14);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",(null==t.errors?null:t.errors.minlength)||(null==t.errors?null:t.errors.maxlength))}}function _e(i,r){if(1&i&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij("",t.naam," ")}}function me(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",41),e.TgZ(1,"label",16),e._uU(2,"Activatie code"),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"p"),e.TgZ(6,"a",42),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).genereerCode()}),e._uU(7,"Nieuwe code genereren"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(4),e.Oqu(t.weerstation.uniekeCode)}}const pe=function(){return{unchecked:"#DDDEE3",checked:"#7e1b27"}};function fe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"form",21,22),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw(2).onSubmit()}),e.TgZ(2,"div",13),e.TgZ(3,"div",14),e.TgZ(4,"div",15),e.TgZ(5,"label",23),e._uU(6,"Naam"),e.qZA(),e.TgZ(7,"input",24,25),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw(2).weerstation.naam=o}),e.qZA(),e.YNc(9,ge,3,2,"div",26),e.qZA(),e.TgZ(10,"div",15),e.TgZ(11,"label",27),e._uU(12,"GSM nummer"),e.qZA(),e.TgZ(13,"input",28,29),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw(2).weerstation.gsmNummer=o}),e.qZA(),e.YNc(15,ue,3,2,"div",26),e.qZA(),e.TgZ(16,"div",15),e.TgZ(17,"label",16),e._uU(18,"Publiek zichtbaar"),e.qZA(),e.TgZ(19,"ng-toggle",30),e.NdJ("change",function(){e.CHM(t);const o=e.oxw(2);return o.changeZichtbaarheid(o.weerstation)}),e.qZA(),e.TgZ(20,"div",31),e._uU(21),e.qZA(),e.qZA(),e.TgZ(22,"div",15),e.TgZ(23,"label",32),e._uU(24,"Organisatie"),e.qZA(),e.TgZ(25,"select",33),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw(2).weerstation.organisatieId=o}),e.YNc(26,_e,2,2,"option",34),e.qZA(),e.qZA(),e.YNc(27,me,8,1,"div",35),e.qZA(),e.qZA(),e.TgZ(28,"div",36),e.TgZ(29,"button",37),e._uU(30," Opslaan "),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(1),n=e.MAs(8),o=e.MAs(14),s=e.oxw(2);e.xp6(7),e.Q6J("ngModel",s.weerstation.naam),e.xp6(2),e.Q6J("ngIf",n.invalid&&(n.dirty||n.touched)),e.xp6(4),e.Q6J("ngModel",s.weerstation.gsmNummer),e.xp6(2),e.Q6J("ngIf",o.invalid&&(o.dirty||o.touched)),e.xp6(4),e.Q6J("value",1==s.weerstation.isPubliekZichtbaar)("color",e.DdM(11,pe)),e.xp6(2),e.hij(" ",1==s.weerstation.isPubliekZichtbaar?"Zichtbaar":"Niet zichtbaar"," "),e.xp6(4),e.Q6J("ngModel",s.weerstation.organisatieId),e.xp6(1),e.Q6J("ngForOf",s.organisaties),e.xp6(1),e.Q6J("ngIf",s.weerstation.uniekeCode),e.xp6(2),e.Q6J("disabled",!t.form.valid)}}function be(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"div",4),e.TgZ(3,"div",5),e.TgZ(4,"h3",6),e._uU(5),e.qZA(),e.TgZ(6,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeModal()}),e.TgZ(7,"span",8),e._uU(8," \xd7 "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",9),e.YNc(10,se,21,0,"form",10),e.YNc(11,fe,31,12,"form",11),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(5),e.hij(" ",t.title," "),e.xp6(5),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading)}}function Ze(i,r){1&i&&e._UZ(0,"div",43)}let q=(()=>{class i{constructor(t,n,o,s){this.router=t,this.adminWeerstationService=n,this.adminOrganisatieService=o,this.toast=s,this.output=new e.vpe,this.weerstation={},this.weerstation$=new l.w,this.organisaties=[],this.organisaties$=new l.w,this.loading=!0,this.showModal=!1,this.putWeerstation$=new l.w,this.toast.defaultConfig=Object.assign(Object.assign({},this.toast.defaultConfig),{reverseOrder:!0})}ngOnInit(){this.organisaties$=this.adminOrganisatieService.getOrganisaties().subscribe(t=>{this.organisaties=t},t=>{this.toast.error("Er ging iets mis.  De lijst van organisaties kan niet worden opgehaald.",{position:"bottom-right",dismissible:!0,autoClose:!1})})}ngOnDestroy(){this.putWeerstation$.unsubscribe()}openModal(t){this.loading=!0,this.weerstation$=this.adminWeerstationService.getWeerstationById(t).subscribe(n=>{this.weerstation=n,this.loading=!1},n=>{this.toast.error("Er ging iets mis.  De weerstation kan niet worden opgehaald.",{position:"bottom-right",dismissible:!0,autoClose:!1})}),this.showModal=!0}closeModal(){this.showModal=!1}changeZichtbaarheid(t){t.isPubliekZichtbaar=t.isPubliekZichtbaar?0:1}genereerCode(){this.putWeerstation$=this.adminWeerstationService.genereerNieuweCode(this.weerstation.id).pipe(this.toast.observe({loading:{content:"Genereren...",position:"bottom-right"},success:{content:"Nieuwe code gegenereerd!",position:"bottom-right",dismissible:!0},error:{content:t=>{let n="<ul>";n+="<li><b>Er ging iets mis!</b></li>";for(let o in t.error.errors)n+=`<li>${t.error.errors[o]}</li>`;return n+="</ul>",n},position:"bottom-right",dismissible:!0,duration:5e3}})).subscribe(t=>{this.weerstation=t,this.output.next()})}onSubmit(){this.putWeerstation$=this.adminWeerstationService.putWeerstation(this.weerstation.id,this.weerstation).pipe(this.toast.observe({loading:{content:"Aanpassen...",position:"bottom-right"},success:{content:"Weerstation aangepast!",position:"bottom-right",dismissible:!0},error:{content:t=>{let n="<ul>";n+="<li><b>Er ging iets mis!</b></li>";for(let o in t.error.errors)n+=`<li>${t.error.errors[o]}</li>`;return n+="</ul>",n},position:"bottom-right",dismissible:!0,duration:5e3}})).subscribe(t=>{this.showModal=!1,this.output.next()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(p.W),e.Y36(b.n),e.Y36(_.jE))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-weerstation-form"]],inputs:{title:"title"},outputs:{output:"output"},decls:2,vars:2,consts:[["class","overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex mx-4",4,"ngIf"],["class","opacity-25 fixed inset-0 z-40 bg-black",4,"ngIf"],[1,"overflow-x-hidden","overflow-y-auto","fixed","inset-0","z-50","outline-none","focus:outline-none","justify-center","items-center","flex","mx-4"],[1,"relative","my-6","mx-auto","max-w-6xl","w-11/12","sm:w-10/12"],[1,"border-0","rounded-lg","shadow-lg","relative","flex","flex-col","w-full","bg-white","outline-none","focus:outline-none"],[1,"flex","items-start","justify-between","p-5","border-b","border-solid","border-blueGray-200","rounded-t"],[1,"text-3xl","font-semibold"],[1,"p-1","ml-auto","bg-transparent","border-0","text-black","opacity-50","float-right","text-3xl","leading-none","font-semibold","outline-none","focus:outline-none",3,"click"],[1,"bg-transparent","text-black","opacity-50","h-6","w-6","text-2xl","block","outline-none","focus:outline-none"],[1,"relative","p-6","flex-auto"],["action","#",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],["action","#"],[1,"bg-white"],[1,"grid","grid-cols-6","gap-6"],[1,"col-span-6","sm:col-span-3"],[1,"block","font-medium","text-gray-700"],[1,"w-12/12","mt-1","bg-gray-300","h-8","rounded-md","animate-pulse"],[1,"w-6/12","bg-gray-300","h-4","rounded-full","animate-pulse"],[1,"px-4","py-3"],[1,"w-32","mx-auto","mt-1","bg-gray-300","h-10","rounded-md","animate-pulse"],[3,"ngSubmit"],["gebruikerForm","ngForm"],["for","naam",1,"block","font-medium","text-gray-700"],["type","text","name","naam","id","naam","required","","minlength","2",1,"mt-1","p-2","focus:ring-indigo-500","border","focus:border-indigo-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","rounded-md","invalid:border-red-500","invalid:ring-red-500",3,"ngModel","ngModelChange"],["naam","ngModel"],["class","text-xs text-red-500 font-medium",4,"ngIf"],["for","gsmNummer",1,"block","font-medium","text-gray-700"],["type","text","name","gsmNummer","id","gsmNummer","required","","minlength","10","maxlength","10",1,"mt-1","p-2","block","w-full","shadow-sm","sm:text-sm","rounded-md","border","border-gray-300","focus:border-indigo-500","focus:ring-indigo-500","invalid:border-red-500","invalid:ring-red-500",3,"ngModel","ngModelChange"],["gsmNummer","ngModel"],[1,"w-2",3,"value","color","change"],[1,"inline"],["for","country",1,"block","font-medium","text-gray-700"],["id","country","name","organisatieId",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-span-6",4,"ngIf"],[1,"px-4","py-3","text-center","sm:px-6"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","font-medium","rounded-md","text-white","bg-wbRed-500","hover:bg-wbRed-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-wbRed-500","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],[1,"text-xs","text-red-500","font-medium"],[4,"ngIf"],[3,"value"],[1,"col-span-6"],[1,"text-indigo-600","hover:text-indigo-900","cursor-pointer","font-medium",3,"click"],[1,"opacity-25","fixed","inset-0","z-40","bg-black"]],template:function(t,n){1&t&&(e.YNc(0,be,12,3,"div",0),e.YNc(1,Ze,1,0,"div",1)),2&t&&(e.Q6J("ngIf",n.showModal),e.xp6(1),e.Q6J("ngIf",n.showModal))},directives:[c.O5,a._Y,a.JL,a.F,a.Fj,a.Q7,a.wO,a.JJ,a.On,a.nD,v.sX,a.EJ,c.sg,a.YN,a.Kr],styles:[""]}),i})();function xe(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," GSM nummer is veplicht. "),e.qZA())}function he(i,r){if(1&i&&(e.TgZ(0,"div",19),e.YNc(1,xe,2,0,"span",20),e.qZA()),2&i){e.oxw();const t=e.MAs(17);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function ve(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"div",4),e.TgZ(3,"div",5),e.TgZ(4,"h3",6),e._uU(5),e.qZA(),e.TgZ(6,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeModal()}),e.TgZ(7,"span",8),e._uU(8," \xd7 "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",9),e.TgZ(10,"form",10,11),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmit()}),e.TgZ(12,"div",12),e.TgZ(13,"div"),e.TgZ(14,"label",13),e._uU(15,"GSM nummer"),e.qZA(),e.TgZ(16,"input",14,15),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().gsmNummer=o}),e.qZA(),e.YNc(18,he,2,1,"div",16),e.qZA(),e.qZA(),e.TgZ(19,"div",17),e.TgZ(20,"button",18),e._uU(21," Toevoegen "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(11),n=e.MAs(17),o=e.oxw();e.xp6(5),e.hij(" ",o.title," "),e.xp6(11),e.Q6J("ngModel",o.gsmNummer),e.xp6(2),e.Q6J("ngIf",n.invalid&&(n.dirty||n.touched)),e.xp6(2),e.Q6J("disabled",!t.form.valid)}}function we(i,r){1&i&&e._UZ(0,"div",21)}let k=(()=>{class i{constructor(t,n,o){this.router=t,this.weerstationService=n,this.toast=o,this.output=new e.vpe,this.showModal=!1,this.gsmNummer="",this.postWeerstation$=new l.w,this.toast.defaultConfig=Object.assign(Object.assign({},this.toast.defaultConfig),{reverseOrder:!0})}ngOnInit(){}ngOnDestroy(){this.postWeerstation$.unsubscribe()}openModal(){this.showModal=!0}closeModal(){this.showModal=!1}onSubmit(){this.postWeerstation$=this.weerstationService.postWeerstation(this.gsmNummer).pipe(this.toast.observe({loading:{content:"Toevoegen...",position:"bottom-right"},success:{content:"Weerstation toegevoegd!",position:"bottom-right",dismissible:!0},error:{content:t=>{let n="<ul>";n+="<li><b>Er ging iets mis!</b></li>";for(let o in t.error.errors)n+=`<li>${t.error.errors[o]}</li>`;return n+="</ul>",n},position:"bottom-right",dismissible:!0,duration:5e3}})).subscribe(t=>{this.gsmNummer="",this.closeModal(),this.output.next()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(p.W),e.Y36(_.jE))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-weerstation-toevoegen"]],inputs:{title:"title"},outputs:{output:"output"},decls:2,vars:2,consts:[["class","overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex mx-4",4,"ngIf"],["class","opacity-25 fixed inset-0 z-40 bg-black",4,"ngIf"],[1,"overflow-x-hidden","overflow-y-auto","fixed","inset-0","z-50","outline-none","focus:outline-none","justify-center","items-center","flex","mx-4"],[1,"relative","my-6","mx-auto","max-w-6xl","w-11/12","sm:w-9/12","md:w-7/12","lg:w-5/12"],[1,"border-0","rounded-lg","shadow-lg","relative","flex","flex-col","w-full","bg-white","outline-none","focus:outline-none"],[1,"flex","items-start","justify-between","p-5","border-b","border-solid","border-blueGray-200","rounded-t"],[1,"text-3xl","font-semibold"],[1,"p-1","ml-auto","bg-transparent","border-0","text-black","opacity-50","float-right","text-3xl","leading-none","font-semibold","outline-none","focus:outline-none",3,"click"],[1,"bg-transparent","text-black","opacity-50","h-6","w-6","text-2xl","block","outline-none","focus:outline-none"],[1,"relative","p-6","flex-auto"],[3,"ngSubmit"],["organisatieBeheerderUitnodigenForm","ngForm"],[1,"bg-white"],["for","email",1,"block","font-medium","text-gray-700"],["type","text","name","gsmNummer","id","gsmNummer","required","",1,"mt-1","p-2","focus:ring-indigo-500","border","focus:border-indigo-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","rounded-md",3,"ngModel","ngModelChange"],["gsmNummerInput","ngModel"],["class","text-xs text-red-500 font-medium",4,"ngIf"],[1,"px-4","py-3","text-center","sm:px-6"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","font-medium","rounded-md","text-white","bg-wbRed-500","hover:bg-wbRed-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-wbRed-500","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],[1,"text-xs","text-red-500","font-medium"],[4,"ngIf"],[1,"opacity-25","fixed","inset-0","z-40","bg-black"]],template:function(t,n){1&t&&(e.YNc(0,ve,22,4,"div",0),e.YNc(1,we,1,0,"div",1)),2&t&&(e.Q6J("ngIf",n.showModal),e.xp6(1),e.Q6J("ngIf",n.showModal))},directives:[c.O5,a._Y,a.JL,a.F,a.Fj,a.Q7,a.JJ,a.On],styles:[""]}),i})();var Te=g(7080),Ae=g(1084);function qe(i,r){1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td",20),e.TgZ(2,"div",21),e._UZ(3,"div",22),e.qZA(),e.qZA(),e.TgZ(4,"td",23),e._UZ(5,"div",24),e.qZA(),e.TgZ(6,"td",23),e._UZ(7,"div",25),e.qZA(),e.TgZ(8,"td",23),e._UZ(9,"div",26),e.qZA(),e.TgZ(10,"td",23),e._UZ(11,"div",27),e.qZA(),e.TgZ(12,"td",23),e.TgZ(13,"div",21),e._UZ(14,"div",22),e.qZA(),e.qZA(),e.TgZ(15,"td",23),e.TgZ(16,"div",21),e._UZ(17,"div",22),e.qZA(),e.qZA(),e.TgZ(18,"td",23),e.TgZ(19,"div",21),e._UZ(20,"div",28),e._UZ(21,"div",29),e.qZA(),e.qZA(),e.qZA())}const y=function(){return[1,2,3]};function ke(i,r){1&i&&(e.TgZ(0,"tbody"),e.YNc(1,qe,22,0,"tr",19),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,y)))}const u=function(){return{placement:"top",hideDelay:20}};function ye(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(2).showDetails(o.id)}),e._UZ(1,"i",46),e.qZA()}2&i&&e.Q6J("options",e.DdM(1,u))}function Ce(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(2).hideDetails(o.id)}),e._UZ(1,"i",48),e.qZA()}2&i&&e.Q6J("options",e.DdM(1,u))}function Me(i,r){1&i&&(e.TgZ(0,"span",49),e._uU(1,"Zichtbaar"),e.qZA())}function Ue(i,r){1&i&&(e.TgZ(0,"span",50),e._uU(1," Niet zichtbaar "),e.qZA())}function Oe(i,r){1&i&&(e.ynx(0),e.TgZ(1,"td",54),e.TgZ(2,"div",55),e._UZ(3,"i",56),e.qZA(),e.qZA(),e.BQk())}function Ne(i,r){1&i&&(e.TgZ(0,"span",49),e._uU(1,"Relais aan"),e.qZA())}function Je(i,r){1&i&&(e.TgZ(0,"span",59),e._uU(1," Relais uit "),e.qZA())}function We(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"td",54),e.TgZ(2,"p",21),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA(),e.YNc(10,Ne,2,0,"span",35),e.YNc(11,Je,2,0,"ng-template",null,58,e.W1O),e.qZA(),e.qZA(),e.BQk()),2&i){const t=e.MAs(12),n=e.oxw(3).$implicit;e.xp6(4),e.hij("Laatste meting: ",e.xi3(5,5,n.laatsteMeting.time,"d/W/yyyy HH:mm:ss"),""),e.xp6(3),e.hij("Locatie: ",n.laatsteMeting.location,""),e.xp6(2),e.hij("Batterij: ",n.laatsteMeting.bap,"%"),e.xp6(1),e.Q6J("ngIf",0===n.laatsteMeting.sw1)("ngIfElse",t)}}function Fe(i,r){1&i&&(e.TgZ(0,"td",54),e.TgZ(1,"div",55),e.TgZ(2,"p"),e._uU(3,"Er zijn nog geen metingen voor dit weerstation."),e.qZA(),e.qZA(),e.qZA())}function Ge(i,r){if(1&i&&(e.YNc(0,We,13,8,"ng-container",52),e.YNc(1,Fe,4,0,"ng-template",null,57,e.W1O)),2&i){const t=e.MAs(2),n=e.oxw(2).$implicit;e.Q6J("ngIf",n.laatsteMeting)("ngIfElse",t)}}function Ie(i,r){if(1&i&&(e.TgZ(0,"tr",51),e.YNc(1,Oe,4,0,"ng-container",52),e.YNc(2,Ge,3,2,"ng-template",null,53,e.W1O),e.qZA()),2&i){const t=e.MAs(3),n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","loading"===n.laatsteMeting)("ngIfElse",t)}}function je(i,r){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr"),e.TgZ(2,"td",20),e.TgZ(3,"div",21),e.YNc(4,ye,2,2,"a",31),e.YNc(5,Ce,2,2,"a",32),e.qZA(),e.qZA(),e.TgZ(6,"td",33),e._uU(7),e.qZA(),e.TgZ(8,"td",33),e._uU(9),e.qZA(),e.TgZ(10,"td",33),e.TgZ(11,"span",34),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).copyCode(s.uniekeCode)}),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"td",33),e.YNc(14,Me,2,0,"span",35),e.YNc(15,Ue,2,0,"ng-template",null,36,e.W1O),e.qZA(),e.TgZ(17,"td",33),e.TgZ(18,"div",21),e.TgZ(19,"a",37),e._UZ(20,"i",38),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"td",33),e.TgZ(22,"div",21),e.TgZ(23,"a",39),e._UZ(24,"i",40),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"td",41),e.TgZ(26,"div",21),e.TgZ(27,"a",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).wijzigWeerstation(s.id)}),e._uU(28,"Wijzig"),e.qZA(),e.TgZ(29,"a",43),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).verwijderWeerstation(s.id)}),e._uU(30,"Verwijder"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(31,Ie,4,2,"tr",44),e.BQk()}if(2&i){const t=r.$implicit,n=e.MAs(16);e.xp6(4),e.Q6J("ngIf",!t.showDetails),e.xp6(1),e.Q6J("ngIf",t.showDetails),e.xp6(2),e.hij(" ",t.naam," "),e.xp6(2),e.hij(" ",t.gsmNummer," "),e.xp6(2),e.Q6J("options",e.DdM(13,u)),e.xp6(1),e.Oqu(t.uniekeCode),e.xp6(2),e.Q6J("ngIf",t.isPubliekZichtbaar)("ngIfElse",n),e.xp6(5),e.MGl("href","weerstation/",t.id,"/dashboard",e.LSH),e.Q6J("options",e.DdM(14,u)),e.xp6(4),e.MGl("href","organisatiebeheerder/waardes/",t.id,"",e.LSH),e.Q6J("options",e.DdM(15,u)),e.xp6(8),e.Q6J("ngIf",t.showDetails)}}function Qe(i,r){if(1&i&&(e.TgZ(0,"tbody",30),e.YNc(1,je,32,16,"ng-container",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.weerstationsZonderOrganisatie)}}function Ye(i,r){1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td",20),e.TgZ(2,"div",21),e._UZ(3,"div",22),e.qZA(),e.qZA(),e.TgZ(4,"td",23),e._UZ(5,"div",24),e.qZA(),e.TgZ(6,"td",23),e._UZ(7,"div",24),e.qZA(),e.TgZ(8,"td",23),e._UZ(9,"div",27),e.qZA(),e.TgZ(10,"td",23),e.TgZ(11,"div",21),e._UZ(12,"div",22),e.qZA(),e.qZA(),e.TgZ(13,"td",23),e.TgZ(14,"div",21),e._UZ(15,"div",22),e.qZA(),e.qZA(),e.TgZ(16,"td",23),e.TgZ(17,"div",21),e._UZ(18,"div",28),e._UZ(19,"div",29),e.qZA(),e.qZA(),e.qZA())}function Le(i,r){1&i&&(e.TgZ(0,"tbody"),e.YNc(1,Ye,20,0,"tr",19),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,y)))}function $e(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(3).showDetailsOrganisatie(o.id)}),e._UZ(1,"i",46),e.qZA()}2&i&&e.Q6J("options",e.DdM(1,u))}function De(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(3).hideDetailsOrganisatie(o.id)}),e._UZ(1,"i",48),e.qZA()}2&i&&e.Q6J("options",e.DdM(1,u))}function Se(i,r){1&i&&(e.TgZ(0,"span",49),e._uU(1,"Zichtbaar"),e.qZA())}function Ee(i,r){1&i&&(e.TgZ(0,"span",50),e._uU(1," Niet zichtbaar "),e.qZA())}function ze(i,r){1&i&&(e.ynx(0),e.TgZ(1,"td",54),e.TgZ(2,"div",55),e._UZ(3,"i",56),e.qZA(),e.qZA(),e.BQk())}function He(i,r){1&i&&(e.TgZ(0,"span",49),e._uU(1,"Relais aan"),e.qZA())}function Re(i,r){1&i&&(e.TgZ(0,"span",59),e._uU(1," Relais uit "),e.qZA())}function Be(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"td",54),e.TgZ(2,"p",21),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA(),e.YNc(10,He,2,0,"span",35),e.YNc(11,Re,2,0,"ng-template",null,58,e.W1O),e.qZA(),e.qZA(),e.BQk()),2&i){const t=e.MAs(12),n=e.oxw(3).$implicit;e.xp6(4),e.hij("Laatste meting: ",e.xi3(5,5,n.laatsteMeting.time,"d/W/yyyy HH:mm:ss"),""),e.xp6(3),e.hij("Locatie: ",n.laatsteMeting.location,""),e.xp6(2),e.hij("Batterij: ",n.laatsteMeting.bap,"%"),e.xp6(1),e.Q6J("ngIf",0===n.laatsteMeting.sw1)("ngIfElse",t)}}function Pe(i,r){1&i&&(e.TgZ(0,"td",54),e.TgZ(1,"div",55),e.TgZ(2,"p"),e._uU(3,"Er zijn nog geen metingen voor dit weerstation."),e.qZA(),e.qZA(),e.qZA())}function Ve(i,r){if(1&i&&(e.YNc(0,Be,13,8,"ng-container",52),e.YNc(1,Pe,4,0,"ng-template",null,57,e.W1O)),2&i){const t=e.MAs(2),n=e.oxw(2).$implicit;e.Q6J("ngIf",n.laatsteMeting)("ngIfElse",t)}}function Xe(i,r){if(1&i&&(e.TgZ(0,"tr",51),e.YNc(1,ze,4,0,"ng-container",52),e.YNc(2,Ve,3,2,"ng-template",null,53,e.W1O),e.qZA()),2&i){const t=e.MAs(3),n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","loading"===n.laatsteMeting)("ngIfElse",t)}}function Ke(i,r){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr"),e.TgZ(2,"td",20),e.TgZ(3,"div",21),e.YNc(4,$e,2,2,"a",31),e.YNc(5,De,2,2,"a",32),e.qZA(),e.qZA(),e.TgZ(6,"td",33),e._uU(7),e.qZA(),e.TgZ(8,"td",33),e._uU(9),e.qZA(),e.TgZ(10,"td",33),e.YNc(11,Se,2,0,"span",35),e.YNc(12,Ee,2,0,"ng-template",null,36,e.W1O),e.qZA(),e.TgZ(14,"td",33),e.TgZ(15,"div",21),e.TgZ(16,"a",37),e._UZ(17,"i",38),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"td",33),e.TgZ(19,"div",21),e.TgZ(20,"a",39),e._UZ(21,"i",40),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"td",41),e.TgZ(23,"div",21),e.TgZ(24,"a",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(3).wijzigWeerstation(s.id)}),e._uU(25,"Wijzig"),e.qZA(),e.TgZ(26,"a",43),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(3).verwijderWeerstation(s.id)}),e._uU(27,"Verwijder"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(28,Xe,4,2,"tr",44),e.BQk()}if(2&i){const t=r.$implicit,n=e.MAs(13);e.xp6(4),e.Q6J("ngIf",!t.showDetails),e.xp6(1),e.Q6J("ngIf",t.showDetails),e.xp6(2),e.hij(" ",t.naam," "),e.xp6(2),e.hij(" ",t.gsmNummer," "),e.xp6(2),e.Q6J("ngIf",t.isPubliekZichtbaar)("ngIfElse",n),e.xp6(5),e.MGl("href","weerstation/",t.id,"/dashboard",e.LSH),e.Q6J("options",e.DdM(11,u)),e.xp6(4),e.MGl("href","admin/waardes/",t.id,"",e.LSH),e.Q6J("options",e.DdM(12,u)),e.xp6(8),e.Q6J("ngIf",t.showDetails)}}function et(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"tr"),e.TgZ(2,"td",60),e.TgZ(3,"div",61),e._uU(4),e.TgZ(5,"span",62),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(7,Ke,29,13,"ng-container",19),e.BQk()),2&i){const t=r.$implicit;e.xp6(4),e.hij(" ",t.naam," "),e.xp6(2),e.hij("(",t.weerstations.length," weerstations)"),e.xp6(1),e.Q6J("ngForOf",t.weerstations)}}function tt(i,r){if(1&i&&(e.TgZ(0,"tbody",30),e.YNc(1,et,8,3,"ng-container",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.organisaties)}}const rt=[{path:"gebruikers",component:re},{path:"weerstations",component:(()=>{class i{constructor(t,n,o,s,d,Z,dt,gt){this.weerstationService=t,this.organisatieService=n,this.authWeerstationService=o,this.locationService=s,this.router=d,this.toast=Z,this.clipboardApi=dt,this.dialog=gt,this.loading=!0,this.organisaties=[],this.organisaties$=new l.w,this.weerstationsZonderOrganisatie=[],this.weerstationsZonderOrganisatie$=new l.w,this.deleteWeerstation$=new l.w,this.getLaatsteMeting$=new l.w,this.getReverseGeocoding$=new l.w,this.form=new a.cw({naam:new a.NI("")}),this.toast.defaultConfig=Object.assign(Object.assign({},this.toast.defaultConfig),{reverseOrder:!0})}ngOnInit(){this.getOrganisaties(),this.getWeerstationsZonderOrganisatie()}ngOnDestroy(){this.organisaties$.unsubscribe(),this.weerstationsZonderOrganisatie$.unsubscribe(),this.deleteWeerstation$.unsubscribe(),this.getLaatsteMeting$.unsubscribe(),this.getReverseGeocoding$.unsubscribe()}showDetails(t){this.weerstationsZonderOrganisatie.find(n=>n.id===t).laatsteMeting="loading",this.getLaatsteMeting$=this.authWeerstationService.getLaatsteMeting(t).subscribe(n=>{n?(this.weerstationsZonderOrganisatie.find(o=>o.id===t).laatsteMeting=Object.assign(Object.assign({},n),{location:""}),this.addLocation(t,n.gla,n.glo)):this.weerstationsZonderOrganisatie.find(o=>o.id===t).laatsteMeting=null},n=>{this.toast.error("Er ging iets mis.  De details van het weerstation konden niet worden opgehaald.",{position:"bottom-right",dismissible:!0,autoClose:!1})}),this.weerstationsZonderOrganisatie.find(n=>n.id===t).showDetails=!0}showDetailsOrganisatie(t){this.organisaties.map(n=>n.weerstations.find(o=>o.id===t)).find(n=>null!=n).laatsteMeting="loading",this.getLaatsteMeting$=this.authWeerstationService.getLaatsteMeting(t).subscribe(n=>{n?(this.organisaties.map(o=>o.weerstations.find(s=>s.id===t)).find(o=>null!=o).laatsteMeting=Object.assign(Object.assign({},n),{location:""}),this.addLocationOrganisatie(t,n.gla,n.glo)):this.organisaties.map(o=>o.weerstations.find(s=>s.id===t)).find(o=>null!=o).laatsteMeting=null},n=>{this.toast.error("Er ging iets mis.  De details van het weerstation konden niet worden opgehaald.",{position:"bottom-right",dismissible:!0,autoClose:!1})}),this.organisaties.map(n=>n.weerstations.find(o=>o.id===t)).find(n=>null!=n).showDetails=!0}addLocation(t,n,o){this.getReverseGeocoding$=this.locationService.reverseGeocoding(n,o).subscribe(s=>{this.weerstationsZonderOrganisatie.find(d=>d.id===t).laatsteMeting.location=s.address.country+(s.address.town?", "+s.address.town:"")},s=>{console.log(s),this.toast.error("Er ging iets mis.  De locatie van het weerstation kon niet worden opgehaald.",{position:"bottom-right",dismissible:!0,autoClose:!1})})}addLocationOrganisatie(t,n,o){this.getReverseGeocoding$=this.locationService.reverseGeocoding(n,o).subscribe(s=>{this.organisaties.map(d=>d.weerstations.find(Z=>Z.id===t))[0].laatsteMeting.location=s.address.country+(s.address.town?", "+s.address.town:"")},s=>{this.toast.error("Er ging iets mis.  De locatie van het weerstation kon niet worden opgehaald.",{position:"bottom-right",dismissible:!0,autoClose:!1})})}hideDetails(t){this.weerstationsZonderOrganisatie.find(n=>n.id===t).showDetails=!1}hideDetailsOrganisatie(t){this.organisaties.map(n=>n.weerstations.find(o=>o.id===t))[0].showDetails=!1}copyCode(t){t&&(this.clipboardApi.copyFromContent(t),this.toast.success("Code gekopi\xeberd",{position:"bottom-right",dismissible:!0}))}wijzigWeerstation(t){this.weerstationFormComponent.openModal(t),this.weerstationFormComponent.output.subscribe(()=>{this.ngOnInit()})}toevoegenWeerstation(){this.weerstationToevoegenComponent.openModal(),this.weerstationToevoegenComponent.output.subscribe(()=>{this.ngOnInit()})}verwijderWeerstation(t){this.dialog.confirm({title:"Weerstation verwijderen?",body:"Deze actie kan niet ongedaan gemaakt worden. Alle metingen en schakel- en alarmwaarden worden ook verwijderd!"}).afterClosed$.subscribe(n=>{n&&(this.deleteWeerstation$=this.weerstationService.deleteWeerstation(t).pipe(this.toast.observe({loading:{content:"Verwijderen...",position:"bottom-right"},success:{content:"Weerstation verwijderd!",position:"bottom-right",dismissible:!0},error:{content:"Er ging iets mis.",position:"bottom-right",dismissible:!0}})).subscribe(o=>{this.ngOnInit()}))})}getOrganisaties(){this.organisaties$=this.organisatieService.getOrganisaties().subscribe(t=>{let n=t;n=n.map(o=>Object.assign(Object.assign({},o),{weerstations:o.weerstations.map(s=>Object.assign(Object.assign({},s),{showDetails:!1}))})),this.organisaties=n,this.loading=!1},t=>{this.toast.error("Er ging iets mis.  De weerstations van een organisatie kunnen niet worden opgehaald.",{position:"bottom-right",dismissible:!0,autoClose:!1})})}getWeerstationsZonderOrganisatie(){this.weerstationsZonderOrganisatie$=this.weerstationService.getWeerstations("null").subscribe(t=>{let n=t;n=n.map(o=>Object.assign(Object.assign({},o),{showDetails:!1})),this.weerstationsZonderOrganisatie=n},t=>{this.toast.error("Er ging iets mis.  De weerstations zonder organisatie kunnen niet worden opgehaald.",{position:"bottom-right",dismissible:!0,autoClose:!1})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.W),e.Y36(b.n),e.Y36(p.W),e.Y36(Te.a),e.Y36(m.F0),e.Y36(_.jE),e.Y36(Ae.Yv),e.Y36(A.xA))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-weerstation-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(k,7),e.Gf(q,7)),2&t){let o;e.iGM(o=e.CRH())&&(n.weerstationToevoegenComponent=o.first),e.iGM(o=e.CRH())&&(n.weerstationFormComponent=o.first)}},decls:59,vars:10,consts:[["title","Weerstation toevoegen"],["title","Wijzig weerstation"],[1,"container","mx-auto","w-full","px-8","pt-2"],[1,"flex","row","justify-end"],[1,"p-2","px-5","bg-transparent","border-2","border-wbRed-500","text-wbRed-500","text-md","font-bold","rounded-lg","transition-colors","duration-700","transform","hover:bg-wbRed-500","hover:text-white","mb-2",3,"click"],[1,"text-2xl","font-bold","mb-2"],[1,"flex","flex-col","mb-10"],[1,"-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"py-2","align-middle","inline-block","min-w-full","sm:px-6","lg:px-8"],[1,"shadow","overflow-hidden","border-b","border-gray-200","sm:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["tooltip","<p class='text-xs'>Hiermee kan een weerstation toegevoegd worden aan een organisatie.</p>",1,"far","fa-question-circle","text-base",3,"options"],["tooltip","<p class='text-xs'>Zijn de metingen van het weerstation beschikbaar voor iedereen.</p>",1,"far","fa-question-circle","text-base",3,"options"],["scope","col",1,"px-6","py-3","text-center","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[4,"ngIf"],["class","bg-white divide-y divide-gray-200",4,"ngIf"],[1,"flex","flex-col"],[4,"ngFor","ngForOf"],[1,"pl-2"],[1,"flex","justify-around"],[1,"w-4","bg-gray-300","h-4","rounded-sm","animate-pulse","mb-1"],[1,"px-6","py-4"],[1,"w-10/12","bg-gray-300","h-4","rounded-full","animate-pulse","mb-1"],[1,"w-8/12","bg-gray-300","h-4","rounded-full","animate-pulse","mb-1"],[1,"w-6/12","bg-gray-300","h-4","animate-pulse","mb-1"],[1,"w-6/12","bg-gray-300","h-4","rounded-full","animate-pulse","mb-1"],[1,"w-3/12","bg-gray-300","h-4","rounded-full","animate-pulse","mr-1"],[1,"w-4/12","bg-gray-300","h-4","rounded-full","animate-pulse"],[1,"bg-white","divide-y","divide-gray-200"],["class","cursor-pointer","tooltip","<p class='text-xs'>Details bekijken</p>",3,"options","click",4,"ngIf"],["class","cursor-pointer","tooltip","<p class='text-xs'>Details verbergen</p>",3,"options","click",4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap","text-sm"],["tooltip","<p class='text-xs'>Klik om te kopi\xebren</p>",1,"bg-black","hover:bg-gray-200","cursor-pointer",3,"options","click"],["class","px-2 inline-flex font-semibold rounded-full bg-green-100 text-green-800",4,"ngIf","ngIfElse"],["showNietZichtbaar",""],["tooltip","<p class='text-xs'>Dashboard bekijken</p>",3,"href","options"],[1,"far","fa-chart-bar","text-2xl"],["tooltip","<p class='text-xs'>Alarm- en Schakelwaarden wijzigen</p>",3,"href","options"],[1,"far","fa-bell","text-2xl"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900","cursor-pointer","mr-1","sm:mr-0",3,"click"],[1,"text-indigo-600","hover:text-indigo-900","cursor-pointer","ml-1","sm:ml-0",3,"click"],["class","bg-gray-100",4,"ngIf"],["tooltip","<p class='text-xs'>Details bekijken</p>",1,"cursor-pointer",3,"options","click"],[1,"fas","fa-arrow-right"],["tooltip","<p class='text-xs'>Details verbergen</p>",1,"cursor-pointer",3,"options","click"],[1,"fas","fa-arrow-down"],[1,"px-2","inline-flex","font-semibold","rounded-full","bg-green-100","text-green-800"],[1,"px-2","inline-flex","font-semibold","rounded-full","bg-orange-100","text-orange-800"],[1,"bg-gray-100"],[4,"ngIf","ngIfElse"],["showDetails",""],["colspan","8",1,"px-6","py-4","whitespace-nowrap"],[1,"lg:flex","lg:justify-around"],[1,"fas","fa-circle-notch","fa-spin","mr-2","text-indigo-600","text-2xl","text-center"],["showGeenMeting",""],["showNietGeschakeld",""],[1,"px-2","inline-flex","font-semibold","rounded-full","bg-red-100","text-red-800"],["colspan","6",1,"px-6","py-4","whitespace-nowrap"],[1,"font-bold","text-gray-900"],[1,"font-normal","text-sm"]],template:function(t,n){1&t&&(e._UZ(0,"app-weerstation-toevoegen",0),e._UZ(1,"app-weerstation-form",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"button",4),e.NdJ("click",function(){return n.toevoegenWeerstation()}),e._uU(5," Weerstation toevoegen "),e.qZA(),e.qZA(),e.TgZ(6,"h2",5),e._uU(7,"Weerstations zonder organisatie"),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"table",10),e.TgZ(13,"thead",11),e.TgZ(14,"tr"),e._UZ(15,"th"),e.TgZ(16,"th",12),e._uU(17," Naam "),e.qZA(),e.TgZ(18,"th",12),e._uU(19," Gsm nummer "),e.qZA(),e.TgZ(20,"th",12),e._uU(21," Activatie code "),e._UZ(22,"i",13),e.qZA(),e.TgZ(23,"th",12),e._uU(24," Publiek zichtbaar "),e._UZ(25,"i",14),e.qZA(),e.TgZ(26,"th",15),e._uU(27," Dashboard "),e.qZA(),e.TgZ(28,"th",15),e._uU(29," Alarm- en Schakelwaarden "),e.qZA(),e.TgZ(30,"th",15),e._uU(31," Acties "),e.qZA(),e.qZA(),e.qZA(),e.YNc(32,ke,2,2,"tbody",16),e.YNc(33,Qe,2,1,"tbody",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"h2",5),e._uU(35,"Weerstations van organisatie"),e.qZA(),e.TgZ(36,"div",18),e.TgZ(37,"div",7),e.TgZ(38,"div",8),e.TgZ(39,"div",9),e.TgZ(40,"table",10),e.TgZ(41,"thead",11),e.TgZ(42,"tr"),e._UZ(43,"th"),e.TgZ(44,"th",12),e._uU(45," Naam "),e.qZA(),e.TgZ(46,"th",12),e._uU(47," Gsm nummer "),e.qZA(),e.TgZ(48,"th",12),e._uU(49," Publiek zichtbaar "),e._UZ(50,"i",14),e.qZA(),e.TgZ(51,"th",15),e._uU(52," Dashboard "),e.qZA(),e.TgZ(53,"th",15),e._uU(54," Alarm- en Schakelwaarden "),e.qZA(),e.TgZ(55,"th",15),e._uU(56," Acties "),e.qZA(),e.qZA(),e.qZA(),e.YNc(57,Le,2,2,"tbody",16),e.YNc(58,tt,2,1,"tbody",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(22),e.Q6J("options",e.DdM(7,u)),e.xp6(3),e.Q6J("options",e.DdM(8,u)),e.xp6(7),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(17),e.Q6J("options",e.DdM(9,u)),e.xp6(7),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},directives:[k,q,h.i9,c.O5,c.sg],pipes:[c.uU],styles:[""]}),i})()},{path:"organisaties",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-organisatie-list"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"organisatie-list works!"),e.qZA())},styles:[""]}),i})()},{path:"waardes/:id",component:g(7740).w}];let st=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.Bz.forChild(rt)],m.Bz]}),i})(),at=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[c.ez,a.u5,h.z8,v.zb,a.UX,C.X,st]]}),i})()}}]);